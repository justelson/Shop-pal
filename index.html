<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop-pal</title>
    <link rel="icon" href="logo.png" type="image/png">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>
</head>

<body>
    <div id="appBlocker" class="app-blocker"></div>

    <div class="app-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>ShopTracker</h2>
                <span class="pro-badge">BETA</span>
            </div>

            <nav class="sidebar-nav">
                <button class="nav-btn active" data-tab="dashboard" aria-current="page">
                    <span class="nav-icon"><img class="icon" data-icon="iconsax-chart-3-x0gfqb3s-.svg"
                            src="assets/icons/green/iconsax-chart-3-x0gfqb3s-.svg" alt="Dashboard"
                            style="width:18px;height:18px;" /></span>
                    Dashboard
                </button>
                <button class="nav-btn" data-tab="new-sale">
                    <span class="nav-icon"><img class="icon" data-icon="iconsax-shopping-cart-a8ysbjz6-.svg"
                            src="assets/icons/green/iconsax-shopping-cart-a8ysbjz6-.svg" alt="New Sale"
                            style="width:18px;height:18px;" /></span>
                    New Sale
                </button>
                <button class="nav-btn" data-tab="products">
                    <span class="nav-icon"><img class="icon" data-icon="iconsax-bag-9t87eyn3-.svg"
                            src="assets/icons/green/iconsax-bag-9t87eyn3-.svg" alt="Products"
                            style="width:18px;height:18px;" /></span>
                    Products
                </button>
                <button class="nav-btn" data-tab="history">
                    <span class="nav-icon"><img class="icon" data-icon="iconsax-diagram-h87024pg-.svg"
                            src="assets/icons/green/iconsax-diagram-h87024pg-.svg" alt="Sales History"
                            style="width:18px;height:18px;" /></span>
                    Sales History
                </button>
                <button class="nav-btn" data-tab="reports">
                    <span class="nav-icon"><img class="icon" data-icon="iconsax-chart-fail-pldbri9j-.svg"
                            src="assets/icons/green/iconsax-chart-fail-pldbri9j-.svg" alt="Reports"
                            style="width:18px;height:18px;" /></span>
                    Reports
                </button>
                <button class="nav-btn" data-tab="messages">
                    <span class="nav-icon"><img class="icon" data-icon="iconsax-notification-bing-0vysuana-.svg"
                            src="assets/icons/green/iconsax-notification-bing-0vysuana-.svg" alt="Messages"
                            style="width:18px;height:18px;" /></span>
                    Messages
                </button>
                <button class="nav-btn" data-tab="settings">
                    <span class="nav-icon"><img class="icon" data-icon="iconsax-setting-2-yfxuyt7o-.svg"
                            src="assets/icons/green/iconsax-setting-2-yfxuyt7o-.svg" alt="Settings"
                            style="width:18px;height:18px;" /></span>
                    Settings
                </button>
                <button class="nav-btn" data-tab="profiles">
                    <img class="icon" data-icon="iconsax-profile-circle-5aksjsgv-.svg"
                        src="assets/icons/green/iconsax-profile-circle-5aksjsgv-.svg" alt="Profiles"
                        style="width:18px;height:18px;" />
                    Profiles
                </button>
            </nav>

            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-avatar" id="userAvatarContainer">
                        <div class="avatar-circle" id="userAvatarCircle">
                            <img class="avatar-image" data-icon="iconsax-profile-circle-5aksjsgv-.svg"
                                src="assets/icons/green/iconsax-profile-circle-5aksjsgv-.svg" alt="User" />
                            <div class="avatar-placeholder">
                                <span class="avatar-initials">SO</span>
                            </div>
                        </div>
                        <div class="avatar-edit-overlay" id="avatarEditOverlay">
                            <span class="edit-icon"></span>
                        </div>
                    </div>
                    <div class="user-details">
                        <div class="user-name">Shop Owner</div>
                        <div class="user-role">Administrator</div>
                    </div>
                </div>
            </div>
        </aside>

        <main class="main-content">
            <header class="top-header">
                <div class="header-left">
                    <!-- Hamburger menu for mobile -->
                    <button id="sidebarToggle" class="hamburger-menu" aria-label="Toggle sidebar" style="display:none;">
                        <span class="bar"></span>
                        <span class="bar"></span>
                        <span class="bar"></span>
                    </button>
                    <h1 id="pageTitle">Dashboard</h1>
                    <p id="pageSubtitle">Overview of your sales performance</p>
                </div>
                <div class="header-right">
                    <div class="search-box-wrapper" style="position:relative;display:inline-block;">
                        <div class="search-box">
                            <input type="text" placeholder="Search..." id="globalSearch">
                            <span class="search-icon"><img class="icon"
                                    data-icon="iconsax-search-zoom-in-1-s6o7u60k-.svg"
                                    src="assets/icons/green/iconsax-search-zoom-in-1-s6o7u60k-.svg" alt="Search"
                                    style="width:18px;height:18px;" /></span>
                        </div>
                    </div>
                    <div class="notifications">
                        <button class="notification-btn" id="notificationBtn">
                            <span class="notification-icon"><img class="icon"
                                    data-icon="iconsax-notification-bing-0vysuana-.svg"
                                    src="assets/icons/green/iconsax-notification-bing-0vysuana-.svg" alt="Notifications"
                                    style="width:18px;height:18px;" /></span>
                            <span class="notification-badge" id="notificationCount">0</span>
                        </button>
                        <div class="notification-dropdown" id="notificationDropdown">
                            <div class="notification-list" id="notificationList"></div>
                        </div>
                    </div>
                </div>
            </header>

            <div class="content-area">
                <!-- Dashboard Tab -->
                <div id="dashboard" class="tab-content active">
                    <div class="dashboard-actions" style="margin-bottom: 20px; display: flex; gap: 10px;">
                        <button id="dashboardNewSaleBtn" class="btn-primary">New Sale</button>
                        <button id="dashboardNewProductBtn" class="btn-primary">New Product</button>
                    </div>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h3>Today's Sales</h3>
                            <div class="stat-value" id="todaySales">$0.00</div>
                        </div>
                        <div class="stat-card">
                            <h3>This Week</h3>
                            <div class="stat-value" id="weekSales">$0.00</div>
                        </div>
                        <div class="stat-card">
                            <h3>Total Revenue</h3>
                            <div class="stat-value" id="totalRevenue">$0.00</div>
                        </div>
                        <div class="stat-card">
                            <h3>Total Profit</h3>
                            <div class="stat-value" id="totalProfit">$0.00</div>
                        </div>
                        <div class="stat-card">
                            <h3>Total Products</h3>
                            <div class="stat-value" id="totalProducts">0</div>
                        </div>
                        <div class="stat-card">
                            <h3>Low Stock Items</h3>
                            <div class="stat-value" id="lowStock">0</div>
                        </div>
                    </div>

                    <div class="dashboard-grid">
                        <div class="chart-card">
                            <div id="categoryChart"></div>
                        </div>
                        <div class="chart-card">
                            <div id="topProductsChart"></div>
                        </div>
                    </div>

                    <div class="chart-card" style="margin-bottom: 30px;">
                        <div id="monthlySalesChart"></div>
                    </div>

                    <div class="recent-sales">
                        <h3>Recent Sales</h3>
                        <div id="recentSalesList" class="sales-list"></div>
                    </div>
                </div>

                <!-- New Sale Tab -->
                <div id="new-sale" class="tab-content">
                    <div class="form-section">
                        <h2>Record New Sale</h2>
                        <form id="saleForm">
                            <div class="form-group">
                                <label for="productSelect">Product:</label>
                                <select id="productSelect" required>
                                    <option value="">Select a product</option>
                                </select>
                                <div class="form-error" id="saleFormProductError" aria-live="polite"></div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="quantity">Quantity:</label>
                                    <input type="number" id="quantity" min="1" required>
                                </div>
                                <div class="form-group">
                                    <label for="customerName">Customer Name (Optional):</label>
                                    <input type="text" id="customerName" placeholder="e.g., John Doe">
                                </div>
                            </div>

                            <div class="sale-summary">
                                <div class="summary-row">
                                    <span>Unit Price:</span>
                                    <span id="unitPrice">$0.00</span>
                                </div>
                                <div class="summary-row total">
                                    <span>Total:</span>
                                    <span id="saleTotal">$0.00</span>
                                </div>
                            </div>

                            <button type="submit" class="btn-primary">Record Sale</button>
                        </form>
                    </div>
                </div>

                <!-- Products Tab -->
                <div id="products" class="tab-content">
                    <div class="section-header">
                        <h2>Product Catalog</h2>
                        <button id="addProductBtn" class="btn-primary">
                            <span class="btn-icon"><img class="icon" data-icon="iconsax-add-ixv6e8bh-.svg"
                                    src="assets/icons/green/iconsax-add-ixv6e8bh-.svg" alt="Add"
                                    style="width:18px;height:18px;" /></span>
                            Add New Product
                        </button>
                    </div>

                    <div id="productsList" class="products-grid"></div>
                </div>

                <!-- Sales History Tab -->
                <div id="history" class="tab-content">
                    <div class="section-header">
                        <h2>Sales History</h2>
                        <div class="filter-controls">
                            <input type="date" id="dateFilter">
                            <select id="productFilter">
                                <option value="">All Products</option>
                            </select>
                            <button id="clearFilters" class="btn-secondary">Clear Filters</button>
                        </div>
                    </div>

                    <div id="salesHistory" class="history-list"></div>
                </div>

                <!-- Reports Tab -->
                <div id="reports" class="tab-content">
                    <div class="reports-section">
                        <h2>Sales Reports</h2>
                        <div class="report-controls">
                            <div class="form-group">
                                <label for="reportType">Report Type:</label>
                                <select id="reportType">
                                    <option value="daily">Daily Summary</option>
                                    <option value="weekly">Weekly Summary</option>
                                    <option value="product">Product Performance</option>
                                </select>
                            </div>
                            <button id="generateReport" class="btn-primary">Generate Report</button>
                        </div>
                        <div id="reportResults" class="report-results"></div>
                    </div>

                    <div class="reports-section" style="margin-top: 30px;">
                        <h2>Data Management</h2>
                        <p style="margin-bottom: 20px; opacity: 0.8;">Export your data to a JSON file for backup, or
                            import it to restore your session.</p>
                        <div class="data-actions">
                            <button id="exportDataBtn" class="btn-secondary">Export Data</button>
                            <button id="exportExcelBtn" class="btn-secondary">Export as Excel</button>
                            <input type="file" id="importDataInput" hidden accept=".json">
                            <button id="importDataBtn" class="btn-secondary">Import Data</button>
                        </div>
                    </div>
                </div>

                <!-- Messages Tab -->
                <div id="messages" class="tab-content">
                    <div class="section-header">
                        <h2>Messages</h2>
                        <div class="messages-controls">
                            <button id="markAllReadBtn" class="btn-secondary">Mark All as Read</button>
                        </div>
                    </div>
                    <div class="form-section">
                        <div class="messages-filters">
                            <button class="filter-btn active" data-filter="all">All</button>
                            <button class="filter-btn" data-filter="unread">Unread</button>
                            <button class="filter-btn" data-filter="read">Read</button>
                        </div>
                        <div id="messagesList" class="messages-list"></div>
                    </div>
                </div>

                <!-- Profiles Tab -->
                <div id="profiles" class="tab-content">
                    <div class="section-header">
                        <h2>Shop Profiles</h2>
                        <button id="addProfileBtn" class="btn-primary">
                            <span class="btn-icon">+</span>
                            Create New Profile
                        </button>
                    </div>

                    <div class="current-profile-section">
                        <h3>Current Profile</h3>
                        <div id="currentProfileCard" class="profile-card current"></div>
                    </div>

                    <div class="profiles-section">
                        <h3>All Profiles</h3>
                        <div id="profilesList" class="profiles-grid"></div>
                    </div>
                </div>

                <!-- Settings Tab -->
                <div id="settings" class="tab-content">
                    <div class="settings-sections">
                        <div class="form-section">
                            <h2>Profile Settings</h2>
                            <form id="profileSettingsForm">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="settingsShopName">Shop Name:</label>
                                        <input type="text" id="settingsShopName" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="settingsOwnerName">Owner Name:</label>
                                        <input type="text" id="settingsOwnerName" required>
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="settingsProfilePicture">Profile Picture:</label>
                                        <input type="file" id="settingsProfilePicture" accept="image/*"
                                            class="form-control">
                                    </div>
                                    <div class="form-group">
                                        <label for="settingsCurrency">Currency:</label>
                                        <select id="settingsCurrency" required>
                                            <option value="USD">US Dollar (USD)</option>
                                            <option value="EUR">Euro (EUR)</option>
                                            <option value="GBP">British Pound (GBP)</option>
                                            <option value="JPY">Japanese Yen (JPY)</option>
                                            <option value="AED">United Arab Emirates Dirham (AED)</option>
                                            <option value="AFN">Afghan Afghani (AFN)</option>
                                            <option value="ALL">Albanian Lek (ALL)</option>
                                            <option value="AMD">Armenian Dram (AMD)</option>
                                            <option value="ANG">Netherlands Antillean Guilder (ANG)</option>
                                            <option value="AOA">Angolan Kwanza (AOA)</option>
                                            <option value="ARS">Argentine Peso (ARS)</option>
                                            <option value="AUD">Australian Dollar (AUD)</option>
                                            <option value="AWG">Aruban Florin (AWG)</option>
                                            <option value="AZN">Azerbaijani Manat (AZN)</option>
                                            <option value="BAM">Bosnia-Herzegovina Mark (BAM)</option>
                                            <option value="BBD">Barbados Dollar (BBD)</option>
                                            <option value="BDT">Bangladeshi Taka (BDT)</option>
                                            <option value="BGN">Bulgarian Lev (BGN)</option>
                                            <option value="BHD">Bahraini Dinar (BHD)</option>
                                            <option value="BIF">Burundian Franc (BIF)</option>
                                            <option value="BMD">Bermudian Dollar (BMD)</option>
                                            <option value="BND">Brunei Dollar (BND)</option>
                                            <option value="BOB">Boliviano (BOB)</option>
                                            <option value="BRL">Brazilian Real (BRL)</option>
                                            <option value="BSD">Bahamian Dollar (BSD)</option>
                                            <option value="BTN">Bhutanese Ngultrum (BTN)</option>
                                            <option value="BWP">Botswana Pula (BWP)</option>
                                            <option value="BYN">Belarusian Ruble (BYN)</option>
                                            <option value="BZD">Belize Dollar (BZD)</option>
                                            <option value="CAD">Canadian Dollar (CAD)</option>
                                            <option value="CDF">Congolese Franc (CDF)</option>
                                            <option value="CHF">Swiss Franc (CHF)</option>
                                            <option value="CLP">Chilean Peso (CLP)</option>
                                            <option value="CNY">Chinese Yuan (CNY)</option>
                                            <option value="COP">Colombian Peso (COP)</option>
                                            <option value="CRC">Costa Rican Col贸n (CRC)</option>
                                            <option value="CUP">Cuban Peso (CUP)</option>
                                            <option value="CVE">Cape Verdean Escudo (CVE)</option>
                                            <option value="CZK">Czech Koruna (CZK)</option>
                                            <option value="DJF">Djiboutian Franc (DJF)</option>
                                            <option value="DKK">Danish Krone (DKK)</option>
                                            <option value="DOP">Dominican Peso (DOP)</option>
                                            <option value="DZD">Algerian Dinar (DZD)</option>
                                            <option value="EGP">Egyptian Pound (EGP)</option>
                                            <option value="ERN">Eritrean Nakfa (ERN)</option>
                                            <option value="ETB">Ethiopian Birr (ETB)</option>
                                            <option value="FJD">Fiji Dollar (FJD)</option>
                                            <option value="FKP">Falkland Islands Pound (FKP)</option>
                                            <option value="GEL">Georgian Lari (GEL)</option>
                                            <option value="GHS">Ghanaian Cedi (GHS)</option>
                                            <option value="GIP">Gibraltar Pound (GIP)</option>
                                            <option value="GMD">Gambian Dalasi (GMD)</option>
                                            <option value="GNF">Guinean Franc (GNF)</option>
                                            <option value="GTQ">Guatemalan Quetzal (GTQ)</option>
                                            <option value="GYD">Guyana Dollar (GYD)</option>
                                            <option value="HKD">Hong Kong Dollar (HKD)</option>
                                            <option value="HNL">Honduran Lempira (HNL)</option>
                                            <option value="HRK">Croatian Kuna (HRK)</option>
                                            <option value="HTG">Haitian Gourde (HTG)</option>
                                            <option value="HUF">Hungarian Forint (HUF)</option>
                                            <option value="IDR">Indonesian Rupiah (IDR)</option>
                                            <option value="ILS">Israeli New Shekel (ILS)</option>
                                            <option value="INR">Indian Rupee (INR)</option>
                                            <option value="IQD">Iraqi Dinar (IQD)</option>
                                            <option value="IRR">Iranian Rial (IRR)</option>
                                            <option value="ISK">Icelandic Kr贸na (ISK)</option>
                                            <option value="JMD">Jamaican Dollar (JMD)</option>
                                            <option value="JOD">Jordanian Dinar (JOD)</option>
                                            <option value="KES">Kenyan Shilling (KES)</option>
                                            <option value="KGS">Kyrgyzstani Som (KGS)</option>
                                            <option value="KHR">Cambodian Riel (KHR)</option>
                                            <option value="KMF">Comorian Franc (KMF)</option>
                                            <option value="KPW">North Korean Won (KPW)</option>
                                            <option value="KRW">South Korean Won (KRW)</option>
                                            <option value="KWD">Kuwaiti Dinar (KWD)</option>
                                            <option value="KYD">Cayman Islands Dollar (KYD)</option>
                                            <option value="KZT">Kazakhstani Tenge (KZT)</option>
                                            <option value="LAK">Lao Kip (LAK)</option>
                                            <option value="LBP">Lebanese Pound (LBP)</option>
                                            <option value="LKR">Sri Lankan Rupee (LKR)</option>
                                            <option value="LRD">Liberian Dollar (LRD)</option>
                                            <option value="LSL">Lesotho Loti (LSL)</option>
                                            <option value="LYD">Libyan Dinar (LYD)</option>
                                            <option value="MAD">Moroccan Dirham (MAD)</option>
                                            <option value="MDL">Moldovan Leu (MDL)</option>
                                            <option value="MGA">Malagasy Ariary (MGA)</option>
                                            <option value="MKD">Macedonian Denar (MKD)</option>
                                            <option value="MMK">Myanmar Kyat (MMK)</option>
                                            <option value="MNT">Mongolian T枚gr枚g (MNT)</option>
                                            <option value="MOP">Macanese Pataca (MOP)</option>
                                            <option value="MRU">Mauritanian Ouguiya (MRU)</option>
                                            <option value="MUR">Mauritian Rupee (MUR)</option>
                                            <option value="MVR">Maldivian Rufiyaa (MVR)</option>
                                            <option value="MWK">Malawian Kwacha (MWK)</option>
                                            <option value="MXN">Mexican Peso (MXN)</option>
                                            <option value="MYR">Malaysian Ringgit (MYR)</option>
                                            <option value="MZN">Mozambican Metical (MZN)</option>
                                            <option value="NAD">Namibian Dollar (NAD)</option>
                                            <option value="NGN">Nigerian Naira (NGN)</option>
                                            <option value="NIO">Nicaraguan C贸rdoba (NIO)</option>
                                            <option value="NOK">Norwegian Krone (NOK)</option>
                                            <option value="NPR">Nepalese Rupee (NPR)</option>
                                            <option value="NZD">New Zealand Dollar (NZD)</option>
                                            <option value="OMR">Omani Rial (OMR)</option>
                                            <option value="PAB">Panamanian Balboa (PAB)</option>
                                            <option value="PEN">Peruvian Sol (PEN)</option>
                                            <option value="PGK">Papua New Guinean Kina (PGK)</option>
                                            <option value="PHP">Philippine Peso (PHP)</option>
                                            <option value="PKR">Pakistani Rupee (PKR)</option>
                                            <option value="PLN">Polish Zoty (PLN)</option>
                                            <option value="PYG">Paraguayan Guaran铆 (PYG)</option>
                                            <option value="QAR">Qatari Riyal (QAR)</option>
                                            <option value="RON">Romanian Leu (RON)</option>
                                            <option value="RSD">Serbian Dinar (RSD)</option>
                                            <option value="RUB">Russian Ruble (RUB)</option>
                                            <option value="RWF">Rwandan Franc (RWF)</option>
                                            <option value="SAR">Saudi Riyal (SAR)</option>
                                            <option value="SBD">Solomon Islands Dollar (SBD)</option>
                                            <option value="SCR">Seychellois Rupee (SCR)</option>
                                            <option value="SDG">Sudanese Pound (SDG)</option>
                                            <option value="SEK">Swedish Krona (SEK)</option>
                                            <option value="SGD">Singapore Dollar (SGD)</option>
                                            <option value="SHP">Saint Helena Pound (SHP)</option>
                                            <option value="SLL">Sierra Leonean Leone (SLL)</option>
                                            <option value="SOS">Somali Shilling (SOS)</option>
                                            <option value="SRD">Surinamese Dollar (SRD)</option>
                                            <option value="SSP">South Sudanese Pound (SSP)</option>
                                            <option value="STN">S茫o Tom茅 Dobra (STN)</option>
                                            <option value="SYP">Syrian Pound (SYP)</option>
                                            <option value="SZL">Swazi Lilangeni (SZL)</option>
                                            <option value="THB">Thai Baht (THB)</option>
                                            <option value="TJS">Tajikistani Somoni (TJS)</option>
                                            <option value="TMT">Turkmenistani Manat (TMT)</option>
                                            <option value="TND">Tunisian Dinar (TND)</option>
                                            <option value="TOP">Tongan Pa驶anga (TOP)</option>
                                            <option value="TRY">Turkish Lira (TRY)</option>
                                            <option value="TTD">Trinidad and Tobago Dollar (TTD)</option>
                                            <option value="TWD">New Taiwan Dollar (TWD)</option>
                                            <option value="TZS">Tanzanian Shilling (TZS)</option>
                                            <option value="UAH">Ukrainian Hryvnia (UAH)</option>
                                            <option value="UGX">Ugandan Shilling (UGX)</option>
                                            <option value="UYU">Uruguayan Peso (UYU)</option>
                                            <option value="UZS">Uzbekistan Som (UZS)</option>
                                            <option value="VES">Venezuelan Bol铆var (VES)</option>
                                            <option value="VND">Vietnamese Dong (VND)</option>
                                            <option value="VUV">Vanuatu Vatu (VUV)</option>
                                            <option value="WST">Samoan Tala (WST)</option>
                                            <option value="XAF">Central African CFA Franc (XAF)</option>
                                            <option value="XCD">East Caribbean Dollar (XCD)</option>
                                            <option value="XOF">West African CFA Franc (XOF)</option>
                                            <option value="XPF">CFP Franc (XPF)</option>
                                            <option value="YER">Yemeni Rial (YER)</option>
                                            <option value="ZAR">South African Rand (ZAR)</option>
                                            <option value="ZMW">Zambian Kwacha (ZMW)</option>
                                            <option value="ZWL">Zimbabwean Dollar (ZWL)</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="settingsHighPerformanceLimit">High Performance Limit:</label>
                                        <input type="number" id="settingsHighPerformanceLimit" min="0" step="0.01"
                                            placeholder="e.g. 1000.00">
                                    </div>
                                </div>
                                <button type="submit" class="btn-primary">Save Profile Settings</button>
                            </form>
                        </div>

                        <div class="form-section">
                            <h2>Custom Categories</h2>
                            <p style="margin-bottom: 20px; opacity: 0.8;">Manage your product categories. Add, edit, or
                                delete custom categories for better organization.</p>

                            <div class="category-management">
                                <div class="add-category-form">
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="newCategoryName">Category Name:</label>
                                            <input type="text" id="newCategoryName"
                                                placeholder="e.g., Electronics, Clothing">
                                        </div>
                                        <div class="form-group">
                                            <button type="button" id="addCategoryBtn" class="btn-primary">Add
                                                Category</button>
                                        </div>
                                    </div>
                                </div>

                                <div class="categories-list">
                                    <h4>Current Categories:</h4>
                                    <div id="categoriesList" class="categories-grid"></div>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h2>Customizable Dashboard</h2>
                            <p style="margin-bottom: 20px; opacity: 0.8;">Choose which statistics and cards to display
                                on your dashboard.</p>

                            <div class="dashboard-customization">
                                <h4>Dashboard Cards:</h4>
                                <div class="dashboard-cards-config">
                                    <div class="card-option">
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="showTodaySales" checked>
                                            <span class="checkmark"></span>
                                            Today's Sales
                                        </label>
                                    </div>
                                    <div class="card-option">
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="showWeekSales" checked>
                                            <span class="checkmark"></span>
                                            This Week Sales
                                        </label>
                                    </div>
                                    <div class="card-option">
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="showTotalRevenue" checked>
                                            <span class="checkmark"></span>
                                            Total Revenue
                                        </label>
                                    </div>
                                    <div class="card-option">
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="showTotalProfit" checked>
                                            <span class="checkmark"></span>
                                            Total Profit
                                        </label>
                                    </div>
                                    <div class="card-option">
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="showTotalProducts" checked>
                                            <span class="checkmark"></span>
                                            Total Products
                                        </label>
                                    </div>
                                    <div class="card-option">
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="showLowStock" checked>
                                            <span class="checkmark"></span>
                                            Low Stock Items
                                        </label>
                                    </div>
                                </div>

                                <div class="dashboard-actions" style="margin-top: 20px;">
                                    <button type="button" id="saveDashboardConfig" class="btn-primary">Save Dashboard
                                        Settings</button>
                                    <button type="button" id="resetDashboardConfig" class="btn-secondary">Reset to
                                        Default</button>
                                </div>
                            </div>
                        </div>

                        <div class="form-section danger-zone">
                            <h2>Data Management</h2>
                            <p style="margin-bottom: 20px; opacity: 0.8;">Manage your shop data with caution. These
                                actions cannot be undone.</p>
                            <div class="danger-actions">
                                <button id="clearAllDataBtn" class="btn-delete">
                                    Clear All Shop Data
                                </button>
                                <button id="resetProfileBtn" class="btn-delete">
                                    Reset Profile to Default
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Modals -->
        <div id="profileSetupModal" class="modal">
            <div class="modal-content profile-setup-container">
                <button class="close-btn" id="closeProfileSetupModal" aria-label="Close">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>

                <div class="profile-setup-header">
                    <h2>Create New Shop Profile</h2>
                    <p>Set up your shop profile to get started</p>
                </div>

                <form id="profileSetupForm" class="profile-setup-form">
                    <div class="avatar-section">
                        <div class="avatar-upload" id="setupAvatarCircle">
                            <div class="avatar-preview">
                                <img class="avatar-image" data-icon="iconsax-profile-circle-5aksjsgv-.svg"
                                    src="assets/icons/green/iconsax-profile-circle-5aksjsgv-.svg" alt="Profile" />
                                <div class="avatar-placeholder">
                                    <span class="avatar-initials">+</span>
                                </div>
                            </div>
                            <div class="avatar-overlay">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path
                                        d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z">
                                    </path>
                                    <circle cx="12" cy="13" r="4"></circle>
                                </svg>
                            </div>
                        </div>
                        <input type="file" id="profilePictureSetup" accept="image/*" style="display: none;">
                        <span class="avatar-hint">Add photo</span>
                    </div>

                    <div class="form-fields">
                        <div class="input-group">
                            <label for="shopName">Shop Name</label>
                            <input type="text" id="shopName" required placeholder="Enter your shop name">
                        </div>

                        <div class="input-group">
                            <label for="ownerName">Your Name</label>
                            <input type="text" id="ownerName" required placeholder="Enter your name">
                        </div>

                        <div class="input-group">
                            <label for="currency">Currency</label>
                            <select id="currency" required>
                                <option value="USD">US Dollar (USD)</option>
                                <option value="EUR">Euro (EUR)</option>
                                <option value="GBP">British Pound (GBP)</option>
                                <option value="JPY">Japanese Yen (JPY)</option>
                                <option value="AED">United Arab Emirates Dirham (AED)</option>
                                <option value="AFN">Afghan Afghani (AFN)</option>
                                <option value="ALL">Albanian Lek (ALL)</option>
                                <option value="AMD">Armenian Dram (AMD)</option>
                                <option value="ANG">Netherlands Antillean Guilder (ANG)</option>
                                <option value="AOA">Angolan Kwanza (AOA)</option>
                                <option value="ARS">Argentine Peso (ARS)</option>
                                <option value="AUD">Australian Dollar (AUD)</option>
                                <option value="AWG">Aruban Florin (AWG)</option>
                                <option value="AZN">Azerbaijani Manat (AZN)</option>
                                <option value="BAM">Bosnia-Herzegovina Mark (BAM)</option>
                                <option value="BBD">Barbados Dollar (BBD)</option>
                                <option value="BDT">Bangladeshi Taka (BDT)</option>
                                <option value="BGN">Bulgarian Lev (BGN)</option>
                                <option value="BHD">Bahraini Dinar (BHD)</option>
                                <option value="BIF">Burundian Franc (BIF)</option>
                                <option value="BMD">Bermudian Dollar (BMD)</option>
                                <option value="BND">Brunei Dollar (BND)</option>
                                <option value="BOB">Boliviano (BOB)</option>
                                <option value="BRL">Brazilian Real (BRL)</option>
                                <option value="BSD">Bahamian Dollar (BSD)</option>
                                <option value="BTN">Bhutanese Ngultrum (BTN)</option>
                                <option value="BWP">Botswana Pula (BWP)</option>
                                <option value="BYN">Belarusian Ruble (BYN)</option>
                                <option value="BZD">Belize Dollar (BZD)</option>
                                <option value="CAD">Canadian Dollar (CAD)</option>
                                <option value="CDF">Congolese Franc (CDF)</option>
                                <option value="CHF">Swiss Franc (CHF)</option>
                                <option value="CLP">Chilean Peso (CLP)</option>
                                <option value="CNY">Chinese Yuan (CNY)</option>
                                <option value="COP">Colombian Peso (COP)</option>
                                <option value="CRC">Costa Rican Col贸n (CRC)</option>
                                <option value="CUP">Cuban Peso (CUP)</option>
                                <option value="CVE">Cape Verdean Escudo (CVE)</option>
                                <option value="CZK">Czech Koruna (CZK)</option>
                                <option value="DJF">Djiboutian Franc (DJF)</option>
                                <option value="DKK">Danish Krone (DKK)</option>
                                <option value="DOP">Dominican Peso (DOP)</option>
                                <option value="DZD">Algerian Dinar (DZD)</option>
                                <option value="EGP">Egyptian Pound (EGP)</option>
                                <option value="ERN">Eritrean Nakfa (ERN)</option>
                                <option value="ETB">Ethiopian Birr (ETB)</option>
                                <option value="FJD">Fiji Dollar (FJD)</option>
                                <option value="FKP">Falkland Islands Pound (FKP)</option>
                                <option value="GEL">Georgian Lari (GEL)</option>
                                <option value="GHS">Ghanaian Cedi (GHS)</option>
                                <option value="GIP">Gibraltar Pound (GIP)</option>
                                <option value="GMD">Gambian Dalasi (GMD)</option>
                                <option value="GNF">Guinean Franc (GNF)</option>
                                <option value="GTQ">Guatemalan Quetzal (GTQ)</option>
                                <option value="GYD">Guyana Dollar (GYD)</option>
                                <option value="HKD">Hong Kong Dollar (HKD)</option>
                                <option value="HNL">Honduran Lempira (HNL)</option>
                                <option value="HRK">Croatian Kuna (HRK)</option>
                                <option value="HTG">Haitian Gourde (HTG)</option>
                                <option value="HUF">Hungarian Forint (HUF)</option>
                                <option value="IDR">Indonesian Rupiah (IDR)</option>
                                <option value="ILS">Israeli New Shekel (ILS)</option>
                                <option value="INR">Indian Rupee (INR)</option>
                                <option value="IQD">Iraqi Dinar (IQD)</option>
                                <option value="IRR">Iranian Rial (IRR)</option>
                                <option value="ISK">Icelandic Kr贸na (ISK)</option>
                                <option value="JMD">Jamaican Dollar (JMD)</option>
                                <option value="JOD">Jordanian Dinar (JOD)</option>
                                <option value="KES">Kenyan Shilling (KES)</option>
                                <option value="KGS">Kyrgyzstani Som (KGS)</option>
                                <option value="KHR">Cambodian Riel (KHR)</option>
                                <option value="KMF">Comorian Franc (KMF)</option>
                                <option value="KPW">North Korean Won (KPW)</option>
                                <option value="KRW">South Korean Won (KRW)</option>
                                <option value="KWD">Kuwaiti Dinar (KWD)</option>
                                <option value="KYD">Cayman Islands Dollar (KYD)</option>
                                <option value="KZT">Kazakhstani Tenge (KZT)</option>
                                <option value="LAK">Lao Kip (LAK)</option>
                                <option value="LBP">Lebanese Pound (LBP)</option>
                                <option value="LKR">Sri Lankan Rupee (LKR)</option>
                                <option value="LRD">Liberian Dollar (LRD)</option>
                                <option value="LSL">Lesotho Loti (LSL)</option>
                                <option value="LYD">Libyan Dinar (LYD)</option>
                                <option value="MAD">Moroccan Dirham (MAD)</option>
                                <option value="MDL">Moldovan Leu (MDL)</option>
                                <option value="MGA">Malagasy Ariary (MGA)</option>
                                <option value="MKD">Macedonian Denar (MKD)</option>
                                <option value="MMK">Myanmar Kyat (MMK)</option>
                                <option value="MNT">Mongolian T枚gr枚g (MNT)</option>
                                <option value="MOP">Macanese Pataca (MOP)</option>
                                <option value="MRU">Mauritanian Ouguiya (MRU)</option>
                                <option value="MUR">Mauritian Rupee (MUR)</option>
                                <option value="MVR">Maldivian Rufiyaa (MVR)</option>
                                <option value="MWK">Malawian Kwacha (MWK)</option>
                                <option value="MXN">Mexican Peso (MXN)</option>
                                <option value="MYR">Malaysian Ringgit (MYR)</option>
                                <option value="MZN">Mozambican Metical (MZN)</option>
                                <option value="NAD">Namibian Dollar (NAD)</option>
                                <option value="NGN">Nigerian Naira (NGN)</option>
                                <option value="NIO">Nicaraguan C贸rdoba (NIO)</option>
                                <option value="NOK">Norwegian Krone (NOK)</option>
                                <option value="NPR">Nepalese Rupee (NPR)</option>
                                <option value="NZD">New Zealand Dollar (NZD)</option>
                                <option value="OMR">Omani Rial (OMR)</option>
                                <option value="PAB">Panamanian Balboa (PAB)</option>
                                <option value="PEN">Peruvian Sol (PEN)</option>
                                <option value="PGK">Papua New Guinean Kina (PGK)</option>
                                <option value="PHP">Philippine Peso (PHP)</option>
                                <option value="PKR">Pakistani Rupee (PKR)</option>
                                <option value="PLN">Polish Zoty (PLN)</option>
                                <option value="PYG">Paraguayan Guaran铆 (PYG)</option>
                                <option value="QAR">Qatari Riyal (QAR)</option>
                                <option value="RON">Romanian Leu (RON)</option>
                                <option value="RSD">Serbian Dinar (RSD)</option>
                                <option value="RUB">Russian Ruble (RUB)</option>
                                <option value="RWF">Rwandan Franc (RWF)</option>
                                <option value="SAR">Saudi Riyal (SAR)</option>
                                <option value="SBD">Solomon Islands Dollar (SBD)</option>
                                <option value="SCR">Seychellois Rupee (SCR)</option>
                                <option value="SDG">Sudanese Pound (SDG)</option>
                                <option value="SEK">Swedish Krona (SEK)</option>
                                <option value="SGD">Singapore Dollar (SGD)</option>
                                <option value="SHP">Saint Helena Pound (SHP)</option>
                                <option value="SLL">Sierra Leonean Leone (SLL)</option>
                                <option value="SOS">Somali Shilling (SOS)</option>
                                <option value="SRD">Surinamese Dollar (SRD)</option>
                                <option value="SSP">South Sudanese Pound (SSP)</option>
                                <option value="STN">S茫o Tom茅 Dobra (STN)</option>
                                <option value="SYP">Syrian Pound (SYP)</option>
                                <option value="SZL">Swazi Lilangeni (SZL)</option>
                                <option value="THB">Thai Baht (THB)</option>
                                <option value="TJS">Tajikistani Somoni (TJS)</option>
                                <option value="TMT">Turkmenistani Manat (TMT)</option>
                                <option value="TND">Tunisian Dinar (TND)</option>
                                <option value="TOP">Tongan Pa驶anga (TOP)</option>
                                <option value="TRY">Turkish Lira (TRY)</option>
                                <option value="TTD">Trinidad and Tobago Dollar (TTD)</option>
                                <option value="TWD">New Taiwan Dollar (TWD)</option>
                                <option value="TZS">Tanzanian Shilling (TZS)</option>
                                <option value="UAH">Ukrainian Hryvnia (UAH)</option>
                                <option value="UGX">Ugandan Shilling (UGX)</option>
                                <option value="UYU">Uruguayan Peso (UYU)</option>
                                <option value="UZS">Uzbekistan Som (UZS)</option>
                                <option value="VES">Venezuelan Bol铆var (VES)</option>
                                <option value="VND">Vietnamese Dong (VND)</option>
                                <option value="VUV">Vanuatu Vatu (VUV)</option>
                                <option value="WST">Samoan Tala (WST)</option>
                                <option value="XAF">Central African CFA Franc (XAF)</option>
                                <option value="XCD">East Caribbean Dollar (XCD)</option>
                                <option value="XOF">West African CFA Franc (XOF)</option>
                                <option value="XPF">CFP Franc (XPF)</option>
                                <option value="YER">Yemeni Rial (YER)</option>
                                <option value="ZAR">South African Rand (ZAR)</option>
                                <option value="ZMW">Zambian Kwacha (ZMW)</option>
                                <option value="ZWL">Zimbabwean Dollar (ZWL)</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn-cancel" id="cancelProfileSetup">Cancel</button>
                        <button type="submit" class="btn-primary">Create Profile</button>
                    </div>
                </form>
            </div>
        </div>

        <div id="productModal" class="modal">
            <div class="modal-content">
                <span class="close" id="closeProductModal" tabindex="0" aria-label="Close product modal"></span>
                <h3 id="productModalTitle">Add New Product</h3>
                <form id="productForm">
                    <input type="hidden" id="editProductId">
                    <div class="form-group">
                        <label for="productName">Product Name:</label>
                        <input type="text" id="productName" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="productBuyPrice">Buy Price:</label>
                            <input type="number" id="productBuyPrice" step="0.01" min="0" required>
                        </div>
                        <div class="form-group">
                            <label for="productPrice">Sell Price:</label>
                            <input type="number" id="productPrice" step="0.01" min="0" required>
                        </div>
                        <div class="form-group">
                            <label for="productStock">Stock Quantity:</label>
                            <input type="number" id="productStock" min="0" required>
                        </div>
                        <div class="form-group">
                            <label for="productLowStock">Low Stock Alert:</label>
                            <input type="number" id="productLowStock" min="0" step="1" placeholder="e.g. 5">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="productCategory">Category:</label>
                        <select id="productCategory" required>
                            <option value="">Select a category</option>
                            <option value="Groceries">Groceries & Food Items</option>
                            <option value="Beverages">Beverages</option>
                            <option value="Personal Care">Personal Care Products</option>
                            <option value="Household Cleaning">Household Cleaning Supplies</option>
                            <option value="Stationery">Stationery</option>
                            <option value="Electronics">Batteries & Electronics Accessories</option>
                            <option value="Plasticware">Plasticware & Containers</option>
                            <option value="Medicine">Basic Medicine & First Aid</option>
                            <option value="Clothing">Clothing Essentials</option>
                            <option value="Miscellaneous">Miscellaneous Items</option>
                        </select>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-secondary" id="cancelProductBtn">Cancel</button>
                        <button type="submit" class="btn-primary" id="productSubmitBtn">Add Product</button>
                    </div>
                </form>
            </div>
        </div>

        <div id="saleModal" class="modal">
            <div class="modal-content">
                <span class="close" id="closeSaleModal"></span>
                <h3>Edit Sale</h3>
                <form id="editSaleForm">
                    <input type="hidden" id="editSaleId">
                    <div class="form-group">
                        <label for="editSaleProduct">Product:</label>
                        <input type="text" id="editSaleProduct" readonly>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="editSaleQuantity">Quantity:</label>
                            <input type="number" id="editSaleQuantity" min="1" required>
                        </div>
                        <div class="form-group">
                            <label for="editSaleCustomer">Customer Name:</label>
                            <input type="text" id="editSaleCustomer">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="editSaleDate">Sale Date:</label>
                        <input type="datetime-local" id="editSaleDate" required>
                    </div>
                    <div class="sale-summary">
                        <div class="summary-row">
                            <span>Unit Price:</span>
                            <span id="editUnitPrice">$0.00</span>
                        </div>
                        <div class="summary-row total">
                            <span>Total:</span>
                            <span id="editSaleTotal">$0.00</span>
                        </div>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn-secondary" id="cancelSaleEditBtn">Cancel</button>
                        <button type="submit" class="btn-primary">Update Sale</button>
                    </div>
                </form>
            </div>
        </div>

        <div id="newProfileModal" class="modal">
            <div class="modal-content">
                <span class="close" id="closeNewProfileModal"></span>
                <h3>Create New Shop Profile</h3>
                <form id="newProfileForm" class="profile-setup-form">
                    <div class="avatar-section">
                        <div class="avatar-upload" id="newProfileAvatarCircle">
                            <div class="avatar-preview">
                                <img class="avatar-image" data-icon="iconsax-profile-circle-5aksjsgv-.svg"
                                    src="assets/icons/green/iconsax-profile-circle-5aksjsgv-.svg" alt="Profile" />
                                <div class="avatar-placeholder">
                                    <span class="avatar-initials">+</span>
                                </div>
                            </div>
                            <div class="avatar-edit-overlay" style="opacity: 1;">
                                <span class="edit-icon"></span>
                            </div>
                        </div>
                        <input type="file" id="newProfilePicture" accept="image/*" style="display: none;">
                        <span class="upload-hint">Click to add a profile picture</span>
                    </div>
                    <div class="form-fields">
                        <div class="input-group">
                            <label for="newProfileShopName">Shop Name</label>
                            <input type="text" id="newProfileShopName" required>
                        </div>
                        <div class="input-group">
                            <label for="newProfileOwnerName">Owner Name</label>
                            <input type="text" id="newProfileOwnerName" required>
                        </div>
                        <div class="input-group">
                            <label for="newProfileCurrency">Currency</label>
                            <select id="newProfileCurrency" required>
                                <option value="USD">US Dollar (USD)</option>
                                <option value="EUR">Euro (EUR)</option>
                                <option value="GBP">British Pound (GBP)</option>
                                <option value="JPY">Japanese Yen (JPY)</option>
                                <option value="AED">United Arab Emirates Dirham (AED)</option>
                                <option value="AFN">Afghan Afghani (AFN)</option>
                                <option value="ALL">Albanian Lek (ALL)</option>
                                <option value="AMD">Armenian Dram (AMD)</option>
                                <option value="ANG">Netherlands Antillean Guilder (ANG)</option>
                                <option value="AOA">Angolan Kwanza (AOA)</option>
                                <option value="ARS">Argentine Peso (ARS)</option>
                                <option value="AUD">Australian Dollar (AUD)</option>
                                <option value="AWG">Aruban Florin (AWG)</option>
                                <option value="AZN">Azerbaijani Manat (AZN)</option>
                                <option value="BAM">Bosnia-Herzegovina Mark (BAM)</option>
                                <option value="BBD">Barbados Dollar (BBD)</option>
                                <option value="BDT">Bangladeshi Taka (BDT)</option>
                                <option value="BGN">Bulgarian Lev (BGN)</option>
                                <option value="BHD">Bahraini Dinar (BHD)</option>
                                <option value="BIF">Burundian Franc (BIF)</option>
                                <option value="BMD">Bermudian Dollar (BMD)</option>
                                <option value="BND">Brunei Dollar (BND)</option>
                                <option value="BOB">Boliviano (BOB)</option>
                                <option value="BRL">Brazilian Real (BRL)</option>
                                <option value="BSD">Bahamian Dollar (BSD)</option>
                                <option value="BTN">Bhutanese Ngultrum (BTN)</option>
                                <option value="BWP">Botswana Pula (BWP)</option>
                                <option value="BYN">Belarusian Ruble (BYN)</option>
                                <option value="BZD">Belize Dollar (BZD)</option>
                                <option value="CAD">Canadian Dollar (CAD)</option>
                                <option value="CDF">Congolese Franc (CDF)</option>
                                <option value="CHF">Swiss Franc (CHF)</option>
                                <option value="CLP">Chilean Peso (CLP)</option>
                                <option value="CNY">Chinese Yuan (CNY)</option>
                                <option value="COP">Colombian Peso (COP)</option>
                                <option value="CRC">Costa Rican Col贸n (CRC)</option>
                                <option value="CUP">Cuban Peso (CUP)</option>
                                <option value="CVE">Cape Verdean Escudo (CVE)</option>
                                <option value="CZK">Czech Koruna (CZK)</option>
                                <option value="DJF">Djiboutian Franc (DJF)</option>
                                <option value="DKK">Danish Krone (DKK)</option>
                                <option value="DOP">Dominican Peso (DOP)</option>
                                <option value="DZD">Algerian Dinar (DZD)</option>
                                <option value="EGP">Egyptian Pound (EGP)</option>
                                <option value="ERN">Eritrean Nakfa (ERN)</option>
                                <option value="ETB">Ethiopian Birr (ETB)</option>
                                <option value="FJD">Fiji Dollar (FJD)</option>
                                <option value="FKP">Falkland Islands Pound (FKP)</option>
                                <option value="GEL">Georgian Lari (GEL)</option>
                                <option value="GHS">Ghanaian Cedi (GHS)</option>
                                <option value="GIP">Gibraltar Pound (GIP)</option>
                                <option value="GMD">Gambian Dalasi (GMD)</option>
                                <option value="GNF">Guinean Franc (GNF)</option>
                                <option value="GTQ">Guatemalan Quetzal (GTQ)</option>
                                <option value="GYD">Guyana Dollar (GYD)</option>
                                <option value="HKD">Hong Kong Dollar (HKD)</option>
                                <option value="HNL">Honduran Lempira (HNL)</option>
                                <option value="HRK">Croatian Kuna (HRK)</option>
                                <option value="HTG">Haitian Gourde (HTG)</option>
                                <option value="HUF">Hungarian Forint (HUF)</option>
                                <option value="IDR">Indonesian Rupiah (IDR)</option>
                                <option value="ILS">Israeli New Shekel (ILS)</option>
                                <option value="INR">Indian Rupee (INR)</option>
                                <option value="IQD">Iraqi Dinar (IQD)</option>
                                <option value="IRR">Iranian Rial (IRR)</option>
                                <option value="ISK">Icelandic Kr贸na (ISK)</option>
                                <option value="JMD">Jamaican Dollar (JMD)</option>
                                <option value="JOD">Jordanian Dinar (JOD)</option>
                                <option value="KES">Kenyan Shilling (KES)</option>
                                <option value="KGS">Kyrgyzstani Som (KGS)</option>
                                <option value="KHR">Cambodian Riel (KHR)</option>
                                <option value="KMF">Comorian Franc (KMF)</option>
                                <option value="KPW">North Korean Won (KPW)</option>
                                <option value="KRW">South Korean Won (KRW)</option>
                                <option value="KWD">Kuwaiti Dinar (KWD)</option>
                                <option value="KYD">Cayman Islands Dollar (KYD)</option>
                                <option value="KZT">Kazakhstani Tenge (KZT)</option>
                                <option value="LAK">Lao Kip (LAK)</option>
                                <option value="LBP">Lebanese Pound (LBP)</option>
                                <option value="LKR">Sri Lankan Rupee (LKR)</option>
                                <option value="LRD">Liberian Dollar (LRD)</option>
                                <option value="LSL">Lesotho Loti (LSL)</option>
                                <option value="LYD">Libyan Dinar (LYD)</option>
                                <option value="MAD">Moroccan Dirham (MAD)</option>
                                <option value="MDL">Moldovan Leu (MDL)</option>
                                <option value="MGA">Malagasy Ariary (MGA)</option>
                                <option value="MKD">Macedonian Denar (MKD)</option>
                                <option value="MMK">Myanmar Kyat (MMK)</option>
                                <option value="MNT">Mongolian T枚gr枚g (MNT)</option>
                                <option value="MOP">Macanese Pataca (MOP)</option>
                                <option value="MRU">Mauritanian Ouguiya (MRU)</option>
                                <option value="MUR">Mauritian Rupee (MUR)</option>
                                <option value="MVR">Maldivian Rufiyaa (MVR)</option>
                                <option value="MWK">Malawian Kwacha (MWK)</option>
                                <option value="MXN">Mexican Peso (MXN)</option>
                                <option value="MYR">Malaysian Ringgit (MYR)</option>
                                <option value="MZN">Mozambican Metical (MZN)</option>
                                <option value="NAD">Namibian Dollar (NAD)</option>
                                <option value="NGN">Nigerian Naira (NGN)</option>
                                <option value="NIO">Nicaraguan C贸rdoba (NIO)</option>
                                <option value="NOK">Norwegian Krone (NOK)</option>
                                <option value="NPR">Nepalese Rupee (NPR)</option>
                                <option value="NZD">New Zealand Dollar (NZD)</option>
                                <option value="OMR">Omani Rial (OMR)</option>
                                <option value="PAB">Panamanian Balboa (PAB)</option>
                                <option value="PEN">Peruvian Sol (PEN)</option>
                                <option value="PGK">Papua New Guinean Kina (PGK)</option>
                                <option value="PHP">Philippine Peso (PHP)</option>
                                <option value="PKR">Pakistani Rupee (PKR)</option>
                                <option value="PLN">Polish Zoty (PLN)</option>
                                <option value="PYG">Paraguayan Guaran铆 (PYG)</option>
                                <option value="QAR">Qatari Riyal (QAR)</option>
                                <option value="RON">Romanian Leu (RON)</option>
                                <option value="RSD">Serbian Dinar (RSD)</option>
                                <option value="RUB">Russian Ruble (RUB)</option>
                                <option value="RWF">Rwandan Franc (RWF)</option>
                                <option value="SAR">Saudi Riyal (SAR)</option>
                                <option value="SBD">Solomon Islands Dollar (SBD)</option>
                                <option value="SCR">Seychellois Rupee (SCR)</option>
                                <option value="SDG">Sudanese Pound (SDG)</option>
                                <option value="SEK">Swedish Krona (SEK)</option>
                                <option value="SGD">Singapore Dollar (SGD)</option>
                                <option value="SHP">Saint Helena Pound (SHP)</option>
                                <option value="SLL">Sierra Leonean Leone (SLL)</option>
                                <option value="SOS">Somali Shilling (SOS)</option>
                                <option value="SRD">Surinamese Dollar (SRD)</option>
                                <option value="SSP">South Sudanese Pound (SSP)</option>
                                <option value="STN">S茫o Tom茅 Dobra (STN)</option>
                                <option value="SYP">Syrian Pound (SYP)</option>
                                <option value="SZL">Swazi Lilangeni (SZL)</option>
                                <option value="THB">Thai Baht (THB)</option>
                                <option value="TJS">Tajikistani Somoni (TJS)</option>
                                <option value="TMT">Turkmenistani Manat (TMT)</option>
                                <option value="TND">Tunisian Dinar (TND)</option>
                                <option value="TOP">Tongan Pa驶anga (TOP)</option>
                                <option value="TRY">Turkish Lira (TRY)</option>
                                <option value="TTD">Trinidad and Tobago Dollar (TTD)</option>
                                <option value="TWD">New Taiwan Dollar (TWD)</option>
                                <option value="TZS">Tanzanian Shilling (TZS)</option>
                                <option value="UAH">Ukrainian Hryvnia (UAH)</option>
                                <option value="UGX">Ugandan Shilling (UGX)</option>
                                <option value="UYU">Uruguayan Peso (UYU)</option>
                                <option value="UZS">Uzbekistan Som (UZS)</option>
                                <option value="VES">Venezuelan Bol铆var (VES)</option>
                                <option value="VND">Vietnamese Dong (VND)</option>
                                <option value="VUV">Vanuatu Vatu (VUV)</option>
                                <option value="WST">Samoan Tala (WST)</option>
                                <option value="XAF">Central African CFA Franc (XAF)</option>
                                <option value="XCD">East Caribbean Dollar (XCD)</option>
                                <option value="XOF">West African CFA Franc (XOF)</option>
                                <option value="XPF">CFP Franc (XPF)</option>
                                <option value="YER">Yemeni Rial (YER)</option>
                                <option value="ZAR">South African Rand (ZAR)</option>
                                <option value="ZMW">Zambian Kwacha (ZMW)</option>
                                <option value="ZWL">Zimbabwean Dollar (ZWL)</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn-cancel btn-secondary" id="cancelNewProfileBtn">Cancel</button>
                        <button type="submit" class="btn-primary">Create Profile</button>
                    </div>
                </form>
            </div>
        </div </div>

        <div id="loadingOverlay" class="loading-overlay" style="display:none;">
            <div class="spinner"></div>
            <span class="loading-text">Switching profile...</span>
        </div>

        <script src="script.js"></script>
        <!-- Avatar Crop Modal -->
        <div id="avatarCropModal" class="modal">
            <div class="modal-content avatar-crop-content">
                <span class="close" id="closeAvatarCrop">&times;</span>
                <h3>Crop Your Avatar</h3>
                <div class="crop-container">
                    <div class="crop-preview-container">
                        <canvas id="cropCanvas" width="300" height="300"></canvas>
                        <div class="crop-overlay">
                            <div class="crop-circle"></div>
                        </div>
                    </div>
                    <div class="crop-controls">
                        <div class="crop-slider-group">
                            <label for="cropScale">Zoom:</label>
                            <input type="range" id="cropScale" min="1" max="3" step="0.1" value="1">
                        </div>
                        <div class="crop-slider-group">
                            <label for="cropX">Position X:</label>
                            <input type="range" id="cropX" min="0" max="100" value="50">
                        </div>
                        <div class="crop-slider-group">
                            <label for="cropY">Position Y:</label>
                            <input type="range" id="cropY" min="0" max="100" value="50">
                        </div>
                    </div>
                    <div class="avatar-preview">
                        <div class="preview-label">Preview:</div>
                        <div class="avatar-preview-circle">
                            <canvas id="previewCanvas" width="80" height="80"></canvas>
                        </div>
                    </div>
                </div>
                <div class="modal-actions">
                    <button id="cancelAvatarCrop" class="btn-secondary">Cancel</button>
                    <button id="saveAvatarCrop" class="btn-primary">Save Avatar</button>
                </div>
            </div>
        </div>

        <!-- Category Edit Modal -->
        <div id="categoryEditModal" class="modal category-edit-modal">
            <div class="modal-content">
                <span class="close" id="closeCategoryEditModal">&times;</span>
                <h3>Edit Category</h3>
                <form id="categoryEditForm">
                    <div class="form-group">
                        <label for="editCategoryName">Category Name:</label>
                        <input type="text" id="editCategoryName" required>
                        <input type="hidden" id="editCategoryOldName">
                    </div>
                    <div class="modal-actions">
                        <button type="button" id="cancelCategoryEdit" class="btn-secondary">Cancel</button>
                        <button type="submit" class="btn-primary">Save Changes</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Test harness for automation: remove or disable in production -->
        <script src="test-harness.js"></script>
</body>

</html>